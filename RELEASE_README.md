# 🐑 懒羊羊自动化平台

> 传智播客（CZBK）在线学习平台自动答题助手 | 支持自动答题、自动刷课、智能纠错

[![Tampermonkey](https://img.shields.io/badge/Tampermonkey-v4.0%2B-brightgreen.svg)](https://www.tampermonkey.net/)
[![Version](https://img.shields.io/badge/version-2.0.0-orange.svg)]()

---

## ✨ 主要功能

### 🎯 智能答题系统
- **云端题库查询**: 优先从云端题库查询答案（毫秒级响应）
- **AI智能答题**: 题库没有时自动使用 DeepSeek-V3 AI 生成答案
- **智能纠错**: 答错后自动分析错误原因并重新答题
- **批量处理**: 支持整套试卷/作业一键完成
- **答案收集**: 自动收集正确答案上传到云端题库

### 🚀 自动刷课功能
- **视频自动播放**: 自动播放视频并支持倍速（1x-16x）
- **习题自动答**: 遇到习题自动答题并提交
- **自动跳转**: 完成当前课程点自动跳转下一个
- **断点续播**: 支持记录进度，下次继续
- **分页习题**: 支持一次显示一题的分页习题流程

### 🛡️ 防作弊绕过
- ✅ 解除窗口切换检测
- ✅ 解除键盘锁定（Ctrl+C/V 可用）
- ✅ 解除右键菜单禁用
- ✅ 解除页面可见性检测
- ✅ 绕过复制粘贴限制

### 🎨 现代化UI
- 悬浮按钮快捷操作
- 实时进度显示
- 详细日志查看
- 多标签页管理
- 响应式设计

---

## 📦 安装使用

### 1️⃣ 安装浏览器扩展

首先需要安装 **Tampermonkey** 油猴脚本管理器：

| 浏览器 | 安装链接 |
|--------|---------|
| Chrome | [Chrome 应用商店](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo) |
| Edge | [Edge 扩展商店](https://microsoftedge.microsoft.com/addons/detail/tampermonkey/iikmkjmpaadaobahmlepeloendndfphd) |
| Firefox | [Firefox 附加组件](https://addons.mozilla.org/zh-CN/firefox/addon/tampermonkey/) |

### 2️⃣ 安装脚本

**安装方式**

1. 下载脚本文件 `czbk-answer.user.js`
2. 打开 Tampermonkey 管理面板
3. 点击「➕ 新建脚本」
4. 粘贴脚本代码并保存（Ctrl+S）

### 3️⃣ 开始使用

1. 访问传智播客学习平台 (例如: `https://*.itcast.cn`)
2. 右下角会出现 **⚡ 懒羊羊悬浮按钮**
3. 点击展开功能菜单：
   - **▶️ 自动答题**: 自动完成当前试卷/作业
   - **🚀 自动刷课**: 自动刷完整个课程（视频+习题）
   - **📤 提交作业**: 一键提交当前作业
   - **⚙️ 设置**: 配置API Key、答题模式等

---

## 🎮 使用教程

### 场景 1: 考试/作业自动答题

**适用于**：在线考试、章节测验、课后作业

**操作步骤**：

1. 打开考试或作业页面
2. 点击 **⚡ 按钮** → **▶️ 自动答题**
3. 在弹出的控制面板中选择答题模式：
   - **云端API**: 仅使用题库（速度最快，但题库有限）
   - **AI答题**: 仅使用AI（适合新题，速度较慢）
   - **API + AI**: 云端优先，降级AI（⭐ 推荐）
4. 可选设置：
   - ✅ **跳过已答题目**: 只答未答的题
   - ✅ **答题后自动提交**: 完成后自动提交
   - ✅ **答题后自动纠错**: 答错后自动重新答题
5. 点击 **「开始答题」**
6. 等待答题完成，查看结果统计
7. 如有错题，点击 **「智能纠错」** 自动修正

**预期效果**：
```
📊 答题统计
✓ 成功: 45 题
✗ 失败: 3 题
⊘ 跳过: 2 题
正确率: 93.8%
```

---

### 场景 2: 自动刷课

**适用于**：完整的课程学习（视频+习题）

**操作步骤**：

1. 进入课程学习页面
2. 点击 **⚡ 按钮** → **🚀 自动刷课**
3. 配置刷课选项：
   - **播放倍速**: 1x - 16x（推荐 2x）
   - ✅ **自动跳转**: 完成后自动下一个课程点
   - ✅ **跳过已完成**: 跳过已学完的课程点
4. 点击 **「开始刷课」**
5. 脚本会自动：
   - 播放视频（自动倍速）
   - 遇到习题自动答题
   - 提交习题结果
   - 跳转下一个课程点
6. 完成后显示统计：
   ```
   🎉 刷课完成
   📹 视频: 15 个
   📝 习题: 8 个
   ⏱️ 耗时: 42 分钟
   ```

---

### 场景 3: 智能纠错

**适用于**：考试结束后查看批改结果，自动修正错题

**操作步骤**：

1. 提交试卷后，等待系统批改
2. 控制面板会自动显示批改结果
3. 如果有错题，点击 **「🔧 智能纠错」**
4. 脚本会：
   - 提取正确答案
   - 自动修改错题
   - 重新提交试卷
   - 上传正确答案到云端题库
5. 可设置最大重试次数（1-5次）

---

## ⚙️ 配置说明

### API 配置

点击 **⚙️ 设置** → **API设置** 标签页

| 配置项 | 说明 | 默认值 |
|--------|------|--------|
| **API地址** | 后端服务器地址 | `http://39.104.15.174:8000` |
| **API密钥** | 访问密钥 | `sk-test-lazy-sheep-dev-2024` |
| **超时时间** | 请求超时时间（秒） | 90 |
| **重试次数** | 失败重试次数 | 3 |

> **💡 提示**: 默认配置已内置测试API Key，可直接使用。如需私有部署，请参考后端部署文档。

### AI 配置

| 配置项 | 说明 | 可选值 |
|--------|------|--------|
| **AI模型** | 使用的AI模型 | DeepSeek-V3 / DeepSeek-R1 |
| **温度参数** | 控制答案随机性 | 0.1 - 1.0（推荐 0.3） |
| **启用AI** | 是否启用AI答题 | ✅ 启用 |

### 答题配置

| 配置项 | 说明 | 默认值 |
|--------|------|--------|
| **答题延迟** | 每题填充间隔（毫秒） | 500ms |
| **答题模式** | 答题策略 | API + AI |
| **跳过已答** | 是否跳过已答题目 | ✅ |
| **自动提交** | 完成后自动提交 | ❌ |
| **自动纠错** | 答错后自动纠错 | ❌ |

---

## 📊 支持的题型

| 题型 | 支持状态 | 说明 |
|------|---------|------|
| 单选题 | ✅ 完整支持 | 自动选择正确选项 |
| 多选题 | ✅ 完整支持 | 自动勾选多个选项 |
| 判断题 | ✅ 完整支持 | 自动选择正确/错误 |
| 填空题 | ✅ 完整支持 | 自动填入答案文本 |
| 简答题 | ✅ AI支持 | 使用AI生成答案 |
| 编程题 | ⚠️ 部分支持 | 仅支持文本输入类型 |

---

## 🎯 使用技巧

### 提高正确率

1. **优先使用 API + AI 模式**: 云端题库 + AI 双重保障
2. **启用智能纠错**: 答错后自动修正
3. **分批答题**: 不要一次性答太多题，分批进行
4. **查看日志**: 遇到问题可在控制面板查看详细日志

### 加快刷课速度

1. **调高播放倍速**: 设置为 4x - 8x（视频质量允许的情况下）
2. **启用自动跳转**: 完成后自动进入下一个课程点
3. **跳过已完成**: 避免重复学习已完成的课程

### 避免账号风险

1. **不要设置过快速度**: 建议倍速 ≤ 4x
2. **适当间隔**: 不要连续刷太多课程
3. **定期检查**: 定期查看学习进度是否正常
4. **不要分享账号**: 避免多人同时使用

---

## ❓ 常见问题

### Q1: 脚本无法工作？

**A**: 请检查：
1. ✅ 是否安装了 Tampermonkey
2. ✅ 脚本是否已启用（Tampermonkey 图标显示数字）
3. ✅ 是否在支持的网站（传智播客平台）
4. ✅ 刷新页面重试
5. ✅ 查看控制台是否有错误（F12）

### Q2: API Key 失效怎么办？

**A**: 
- 测试Key `sk-test-lazy-sheep-dev-2024` 为公共测试密钥
- 如失效请联系管理员获取新密钥
- 或自行部署后端服务（参考部署文档）

### Q3: AI 答题速度很慢？

**A**: 
- AI 答题需要调用 DeepSeek API，速度取决于网络和API响应
- 建议优先使用「API + AI」模式，云端题库响应快
- 可在设置中切换为 DeepSeek-V3（速度更快）

### Q4: 题目识别错误？

**A**: 
- 部分特殊题型可能识别失败
- 请在 GitHub 提交 Issue 并附上截图
- 或在控制面板查看日志，手动修正

### Q5: 答案上传失败？

**A**: 
- 需要有效的 API Key
- 检查网络连接
- 查看控制台日志了解详细错误

### Q6: 会不会被检测到作弊？

**A**: 
- 脚本已内置防作弊绕过功能
- 但建议合理使用，不要设置过快速度
- 最终风险请用户自行承担

### Q7: 支持手机端吗？

**A**: 
- 目前仅支持桌面浏览器
- 手机浏览器不支持 Tampermonkey
- 建议使用电脑端操作

---

## ⚠️ 免责声明

- 本工具仅供学习交流使用
- 请勿用于违反平台规定的行为
- 使用本工具造成的任何后果由用户自行承担
- 开发者不承担任何法律责任

---

## 📞 技术支持

遇到问题或有建议？请通过以下方式反馈：

- 📧 Email: support@example.com
- 💬 QQ群: 待更新

---

---

<div align="center">

Made with ❤️ by Lazy Sheep Team

</div>
